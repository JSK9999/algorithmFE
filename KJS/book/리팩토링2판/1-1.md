# 3장 코드에서 나는 악취 

### 기이한 이름 (변수 이름 바꾸기, 필드 이름 바꾸기)
+ 이름을 확실히 못 짓는 다면 설계에 근본적인 문제가 숨어있을수도있다. 
+ 이름만 보고도 어떤 기능인지 알 수 있도록 이름 짓기에 신경써라.

### 중복 코드 
+ 코드가 중복되면 각각을 볼 때마다 차이점을 살펴야하는 부담이 생긴다. 
+ 중복 내용이 있다면 함수로 추출 할 것.
+ 서브 클래스에 중복 내용이 있다면 상위로 위치를 올려보자.

### 긴 함수 
+ 짧은 함수는 이해가 쉽고 가져다 쓰기 편하다 
+ 주석으로 달아야 할 만한 부분은 무조건 함수로 만든다. 추가로 이름은 의도가 드러나게 짓는다.
+ 매개 변수를 많이 쓴다면 매개변수를 개체로 만들어서 통째로 넘기기를 사용한다. 
+ 복잡한 함수를 객체로 치환 할 수도 있다. 
+ 조건문의 case문을 함수 호출 문 하나로 바꾼다.

### 긴 매개변수 목록
+ 다른 매개 변수에서 값을 얻어오는 매개변수가 있다면, 매개 변수를 질의 함수로 바꾸기 (질의 함수란 return 되는 것이 값인 함수)
+ 객체를 통째로 넘기거나 , 매개변수 객체를 만들어 넘김
+ 플래그 성향의 매개변수는 함수를 나눠서 해당 매개변수를 없애자 (플래그란: 기면기고 아니면 아니고)
+ 여러 함수를 클래스로 묶는다면 매개변수를 줄일 수 있다. 

### 전역 데이터
+ 전역데이터가 가변이면 버그의 원인이 될 수 있다. 최대한 함수 스코프 안에 넣어주자

### 가변 데이터 (mutable Data : 불변성이 아닌)
+ 변수를 캡슐화하자 , 변수를 캡슐화 한다는 것은 getter 와 setter를 사용한다는 것이다.
+ 하나의 변수에 용도가 다른 값이 저장되서 여러개의 용도로 된다면 쪼개자
+ 변수로 얻어지는 파생 변수는 질의 함수 (값을 return 하는) 로 바꾸자
+ 객체 내부의 객체라면 참조를 값으로 바꾸자 (변수 할당하거나 복사를 통해 참조를 끊어 내자 - 안끊으면 가변되니까 )

### 뒤엉킨 변경
+ 수정을 하나하는데 여러 곳을 고쳐야 한다면 이 문제가 발생한 경우이다. 
+ 단일 책임 원칙이 제대로 지켜지지 않았을때 나타난다. 
+ 맥락을 잘 구분하자가 사실 개발 초기에는 어렵다 그래서 리팩토링을 자주해야하는 이유이기도 하다. 

### 산탄총 수술
+ 코드를 변경할때마다 추가로 자잘하게 수정해야하는 클래스가 많을때 생긴다. 
+ 이럴때는 여러 함수를 클래스로 묶거나 여러 함수를 변환 함수로 묶기를 적용한다. 
  (변환 함수가 쉽게 얘기하면 계속 데이터를 가지고 여러번 convert 해야하는 상황일때 예를들어 외국 시간을 구할때 현재시간에서 시차를 뺀다거나 그런거)

### 기능 편애 
+ 모듈 안에서의 함수끼리의 상호작용은 늘리고 모듈끼리의 상호 작용은 최소화 해야하는데 이것이 제대로 이루어지지 않으면 해당 함수를 좀더 필요로 하는 모듈로 옮겨줄것.

### 반복문을 파이프 라인으로 바꾸기
+ 반복문 보다는 filter, map 등의 파이프라인 연산을 이용하자. (파이프라인 연산은 쉽게 얘기하면 연속으로 . 을찍어서 한번에 연산)
+ 예를 들어 for문 안에 if 하면서 조건을 쓰는 상황 
 ```javascript 
 const names = [];
 for (const i of input){
  if(i.job === "ex-em Programmer"){
    names.push(i.name)
    }
   }
 이라는 코드를 
 const names =input.filter(i=>i.job === "ex-em Programmer").map(i=>i.name); 으로 바꿀것 
 //names를 (새 변수에 할당 하는 거니까 map을 쓴것 만약 input 값이 바뀌어야 하는거라면 forEach를 쓰는게 더 나을 듯 함) 
 ```
 
 
 
